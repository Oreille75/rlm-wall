!function e(t,i,s){function n(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return n(i?i:e)},u,u.exports,e,t,i,s)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(e,t){var i=e("jquery"),s=e("backbone"),n=e("underscore"),o=e("backbone.marionette"),a=s.Model.extend({idAttribute:"_id",defaults:{tag:"",running:!1,track_twitter:!0,track_instagram:!0,moderate:!0,scroll_speed:0,screen:"",timer_home:10,timer_zoom:10,timer_win:10,msg_win_home:"",msg_win_scr:"",blocked:"",followers:{}},url:"/api/globals"}),r=s.Model.extend({idAttribute:"_id",defaults:{message_id:null,date:null,ts:null,type:null,validated:null,discarded:null,special:"",img:null,txt:null,user:null,user_img:null},urlRoot:"/api/admin-messages",action:function(e){var t={};"discard"===e&&(t.discarded=!0,t.validated=!1,t.special=""),"undo-discard"===e?(t.discarded=!1,t.validated=!1,t.special=""):"validate"===e?(t.discarded=!1,t.validated=!0,t.special=""):("zoom"===e||"win"===e)&&(t.discarded=!1,t.validated=!0,t.special=e),this.set(t),this.save(t,{patch:!0})}}),l=s.Collection.extend({model:r,url:"/api/messages",sync:function(e,t,s){return"read"===e?i.getJSON(t.url).done(function(e){s.success(e)}).fail(function(){s.error()}):(console.error("not supported"),s.error(),null)},more:function(){if(0===this.length)return this.fetch();var e=this.at(this.length-1);return i.getJSON(this.url,{before_id:e.get("_id")}).done(n.bind(function(e){this.add(e)},this)).fail(function(e){console.log("fail",e)})}});l.comparators={dateAsc:function(e){return e.get("ts")},dateDesc:function(e){return-e.get("ts")}};var c=o.ItemView.extend({tagName:"div",className:"message",hashtag:"hashtag",template:n.template('<div class="inner">\n  <div class="user">\n    <span class="avatar"><%= userImage() %></span>\n    <span class="name"><%= user %></span>\n    <%= contentUser() %>\n  </div>\n  <div class="msg"><%= contentMsg() %></div>\n</div>\n'),onBeforeRender:function(){this.$el.addClass(this.model.get("type")),this.$el.attr("data-id",this.model.get("_id")),this.model.get("img")&&this.$el.addClass("has-figure")},templateHelpers:function(){var e=this;return{userImage:function(e){return"<img"+(e?' class="'+e+'"':"")+' src="'+this.user_img+'">'},image:function(){return this.img?'<div class="embed-responsive embed-responsive-1by1"><figure class="embed-responsive-item" style="background-image: url('+this.img+')"></div>':""},imageLow:function(){return this.img_low?'<div class="embed-responsive embed-responsive-1by1"><figure class="embed-responsive-item" style="background-image: url('+this.img_low+')"></div>':""},contentMsg:function(){return null!=this.img?this.image():this.text()},contentUser:function(){return null!=this.img?"<p>"+this.text()+"</p>":""},text:function(){var t=String(this.txt),i=e.getOption("hashtag"),s=new RegExp("#"+i,"i");return t=t.replace(/\s*http(s?):\/\/t.co\/[^/ ]*/g,""),t=t.replace(/(#\S+)/g,function(e,t){var n="hashtag";return t.match(s)&&(t="#"+i,n+=" self"),t.length>20&&(t=t.substr(0,20)+"..."),'<span class="'+n+'">'+t+"</span>"}),t=t.replace(/(@\S+)/g,'<span class="buddy">$1</span>')}}}});t.exports={Message:r,MessageCollection:l,MessageView:c,Globals:a}},{backbone:"backbone","backbone.marionette":"backbone.marionette",jquery:"jquery",underscore:"underscore"}],2:[function(e,t){var i=(e("jquery"),e("backbone")),s=e("underscore"),n=e("backbone.marionette"),o=i.Model.extend({defaults:{value:0}}),a=n.ItemView.extend({template:!1,tagName:"div",className:"flip-counter",ui:{digits:".flip-digit"},modelEvents:{"change:value":"onModelValueChanged"},digitCount:5,onBeforeRender:function(){this._value="";var e,t="",i="0",n=function(e){t+='<li class="'+e+'"><div class="i"><div class="up"><div class="shadow"></div><div class="l"><span>'+i+'</span></div></div><div class="down"><div class="shadow"></div><div class="l"><span>'+i+"</span></div></div></div></li>"};for(e=0;e<this.getOption("digitCount");e++)t+='<ul class="flip-digit">',s.each(["active","before"],n),t+="</ul>",this._value+=i;this.el.innerHTML=t},onModelValueChanged:function(){var e,t,i,n,o=this.getOption("digitCount"),a=this.model.get("value"),r=String(null===a?"":a),l=function(e,t,i){e.find(".before .up .l span").html(i),e.find(".before .down .l span").html(i),e.find(".active .up .l span").html(t),e.find(".active .down .l span").html(t),e.addClass("play")};if(r.length>o&&(r=r.substr(r.length-o)),r.length<o)for(e=r.length;o>e;e++)r=" "+r;for(e=0;o>e;e++)t=this.ui.digits.eq(e),i=r[e],n=t.find(".active .up .l span").html(),i!==n&&l(t,i,n);this._value=r,setTimeout(s.bind(function(){this.ui.digits.removeClass("play")},this),1e3)}});t.exports={FlipCounterModel:o,FlipCounterView:a}},{backbone:"backbone","backbone.marionette":"backbone.marionette",jquery:"jquery",underscore:"underscore"}],3:[function(e){var t=e("underscore"),i=e("jquery"),s=e("backbone");s.$=i,e("./vendor/jquery.transit");var n=e("backbone.marionette"),o=e("socket.io-client"),a=e("./common"),r=a.Message,l=a.MessageCollection,c=a.MessageView,u=a.Globals,d=e("./flip"),h=d.FlipCounterModel,g=d.FlipCounterView,p=n.CollectionView.extend({tagName:"div",className:"col",template:t.template(""),childView:c,childViewOptions:function(){return{hashtag:this.options.parentView.options.hashtag}},onAddChild:function(e){e.$el.css("opacity",0).transition({opacity:1,scale:1.1},150).transition({scale:1},200)},onBeforeRemoveChild:function(e){this.addTopSpace(e.$el.outerHeight(!0))},onRemoveChild:function(){},addTopSpace:function(e){this.$el.css("padding-top",parseInt(this.$el.css("padding-top"))+e+"px")}}),f=s.Marionette.LayoutView.extend({tagName:"div",className:"messages",template:t.template('<div class="messages-col col0"></div><div class="messages-col col1"></div>'),regions:{col0:".col0",col1:".col1"},events:{},collectionEvents:{add:"start"},scrollSpeed:160,initialize:function(){this.scrolling=!1,this.scrollId=0,this.paused=!1,this.displaying=!1},onBeforeShow:function(){this.displayedMessages=[new l,new l],this.columnViews=[new p({collection:this.displayedMessages[0],parentView:this}),new p({collection:this.displayedMessages[1],parentView:this})],this.col0.show(this.columnViews[0]),this.col1.show(this.columnViews[1])},start:function(){this.scrolling||this.paused||!this.collection.length||this.displayMessage(this.collection.at(0)),!this.scrolling&&this.displaying&&0===this.collection.length&&(this.displaying=!1,this.trigger("displayEnd"))},displayMessage:function(e){if(this.displaying=!0,this.collection.remove(e),this.displayedMessages[0].get(e)||this.displayedMessages[1].get(e))return void this.start();var t=this.col0.currentView.$el.outerHeight()>this.col1.currentView.$el.outerHeight()?1:0;this.displayedMessages[t].add(e),this.scrollToEnd(),this.trigger("displayMessage",e)},checkExpired:function(){var e=this.$el.parent().outerHeight(!0);t.each([this.col0,this.col1],function(t){t.currentView.children.each(function(i){var s=(t.currentView,t.$el.outerHeight(!0)),n=i.$el.position().top+i.$el.outerHeight(!0);0>e-s+n&&t.currentView.collection.remove(i.model)},this)},this);var i,s=parseInt(this.columnViews[0].$el.css("padding-top")),n=parseInt(this.columnViews[1].$el.css("padding-top"));s>0&&n>0&&(i=Math.min(s,n),this.columnViews[0].addTopSpace(-i),this.columnViews[1].addTopSpace(-i),this.$el.css("y",this.$el.position().top+i))},scrollToEnd:function(e){var i=this.$el.parent().outerHeight(!0),s=this.$el.outerHeight(!0),n=-this.$el.position().top,o=s-i,a=o-n,r=e||0>a?200:1760*a*(1/(this.getOption("scrollSpeed")+1));this.scrollId++,this.scrolling=!0,this.paused=!1,this.$el.clearQueue().transition({y:-o},r,"linear",t.bind(this.afterScroll,this,this.scrollId))},afterScroll:function(e){e===this.scrollId&&(this.paused||(this.scrolling=!1,this.checkExpired(),this.start()))},pause:function(){this.paused||(this.paused=!0,this.$el.clearQueue(),this.$el.css("transition",""),this.scrolling=!1)},resume:function(){this.paused=!1,this.scrollToEnd(!0)},removeMessage:function(e){for(var t=0;1>=t;t++)this.displayedMessages[t].remove(e)},onWindowResize:function(){this.paused||this.scrollToEnd(!0)}}),m=s.Marionette.ItemView.extend({template:t.template(""),winTemplate:t.template('<div class="win <%= type %>">\n  <div class="inner">\n    <div class="msg">\n      <%= msg_win %>\n    </div>\n    <div class="img">\n      <span class="avatar"><img src="<%= user_img %>"></span>\n    </div>\n  </div>\n</div>\n'),collectionEvents:{add:"start"},timerZoom:3,timerWin:3,msgWin:"",initialize:function(){this.displaying=!1,this.paused=!1,this.timer=null},start:function(){this.displaying||this.paused||!this.collection.length||(this.current=this.collection.at(0),this.collection.remove(this.current),this.displaying=!0,this.displayMessageZoom())},displayMessageZoom:function(){var e=new c({model:this.current});e.render(),this.$el.html(e.$el),this.resizeFigures();var i="win"===this.current.get("special")?this.displayMessageWin:this.displayEnd;this.timer=t.delay(t.bind(i,this),1e3*this.getOption("timerZoom"))},displayMessageWin:function(){var e=this.current.toJSON();e.msg_win=t.map(this.getOption("msgWin").split("\n"),function(e){return"<p>"+e+"</p>"}).join("").replace("{{user}}",'<span class="user">'+e.user+"</span>");var i=this.winTemplate(e);this.$el.html(i),this.timer=t.delay(t.bind(this.displayEnd,this),1e3*this.getOption("timerWin"))},displayEnd:function(){this.timer=null,this.displaying=!1,this.collection.length?this.start():this.trigger("displayEnd")},initialMessage:function(e){if(!this.displaying&&!this.collection.length){var t=new c({model:e});t.render(),this.$el.html(t.$el),this.resizeFigures()}},pause:function(){this.paused=!0},resume:function(){this.paused=!1,this.start()},resizeFigures:function(){var e=this.$el.width(),t=this.$el.height(),i=Math.floor(.8*Math.min(Math.floor(e/2),t));this.$el.find("figure").width(i).height(i)},onWindowResize:function(){this.resizeFigures()}}),w=new n.Application;w.globals=new u,w.messages=new l,w.messages.comparator=l.comparators.dateAsc,w.zoomQueue=new l,w.zoomQueue.comparator=l.comparators.dateAsc,w.counters={facebook:new h,twitter:new h,instagram:new h},w.addRegions({fbCountRegion:".counter.facebook .digits",twCountRegion:".counter.twitter .digits",igCountRegion:".counter.instagram .digits",messagesRegion:"#messages",zoomRegion:"#zoom",homeRegion:"#home"}),w.socialWallView=new f({collection:w.messages,hashtag:"",scrollSpeed:100}),w.messagesRegion.show(w.socialWallView),w.zoomView=new m({collection:w.zoomQueue,winMsg:""}),w.zoomRegion.show(w.zoomView),w.zoomRegion.$el.css({opacity:0}),w.homeRegion.$el.css({opacity:0});var v=i("body > footer h2").html()+'<span class="win"></span>';w.homeRegion.$el.html('<div class="inner"><h1>'+v+"</h1></div>"),w.fbCountRegion.show(new g({model:w.counters.facebook})),w.twCountRegion.show(new g({model:w.counters.twitter})),w.igCountRegion.show(new g({model:w.counters.instagram})),w.addInitializer(function(){var e=!1,s=3,n=null,o=!1,a="";this.zoomView.pause(),this.on("globals",function(e){this.globals.set(e),e.followers&&this.trigger("followers",e.followers)}),this.listenTo(this.globals,"change:scroll_speed",function(){this.socialWallView.options.scrollSpeed=this.globals.get("scroll_speed"),this.socialWallView.onWindowResize()}),this.listenTo(this.globals,"change:tag",function(){this.socialWallView.options.hashtag=this.globals.get("tag")}),this.listenTo(this.globals,"change:msg_win_home",function(){this.homeRegion.$el.find("span.win").html(this.globals.get("msg_win_home"))}),this.listenTo(this.globals,"change",function(){this.zoomView.timerZoom=this.globals.get("timer_zoom"),this.zoomView.timerWin=this.globals.get("timer_win"),this.zoomView.msgWin=this.globals.get("msg_win_scr"),s=this.globals.get("timer_home")}),this.listenTo(this.globals,"change:screen",function(){a=this.globals.get("screen"),e=!1,n&&(n=null,clearTimeout(n)),o||(w.zoomRegion.$el.stop().css({opacity:1}),w.homeRegion.$el.stop().css({opacity:1}),o=!0),"wall"===a&&(this.zoomRegion.$el.stop().fadeOut("slow"),this.homeRegion.$el.stop().fadeOut("slow"),this.socialWallView.resume(),this.zoomView.pause()),"zoom"===a&&(this.zoomRegion.$el.stop().fadeIn(0),this.homeRegion.$el.stop().fadeOut("slow"),this.socialWallView.pause(),this.zoomView.resume()),"home"===a&&(this.zoomRegion.$el.stop().fadeOut("slow"),this.homeRegion.$el.stop().fadeIn("slow"),this.socialWallView.pause(),this.zoomView.pause()),"auto"===a&&(this.zoomQueue.length?(this.zoomRegion.$el.stop().fadeIn(0),this.socialWallView.pause(),this.zoomView.resume()):this.messages.length?(this.zoomRegion.$el.stop().fadeOut("slow"),this.homeRegion.$el.stop().fadeOut("slow"),this.socialWallView.resume(),this.zoomView.pause()):(this.zoomRegion.$el.stop().fadeOut("slow"),this.homeRegion.$el.stop().fadeIn("slow"),this.socialWallView.pause(),this.zoomView.pause()))}),this.on("message",function(t){var i=new r(t),s=i.get("special");i.get("discarded")||("auto"===a&&(""!==s?(this.homeRegion.$el.stop().fadeOut(0),this.zoomRegion.$el.stop().fadeIn(0),this.socialWallView.pause(),this.zoomView.resume()):!e&&this.homeRegion.$el.is(":visible")&&(this.homeRegion.$el.stop().fadeOut("slow"),this.socialWallView.resume())),""!==s&&this.zoomQueue.add(i),this.messages.add(i))}),this.on("remove-message",function(e){this.messages.remove(e),this.messagesRegion.currentView.removeMessage(e)}),this.on("followers",function(e){null!==e.facebook&&this.counters.facebook.set("value",e.facebook),null!==e.twitter&&this.counters.twitter.set("value",e.twitter),null!==e.instagram&&this.counters.instagram.set("value",e.instagram)}),this.on("last-zoom",function(e){var t=new r(e);this.zoomView.initialMessage(t)}),this.socialWallView.on("displayMessage",function(e){i("body > footer").addClass("last-"+e.get("type")),setTimeout(function(){i("body > footer").removeClass("last-instagram last-twitter")},2e3)}),i(window).on("resize",t.debounce(t.bind(function(){this.socialWallView.onWindowResize(),this.zoomView.onWindowResize()},this),150)),this.zoomView.on("displayEnd",t.bind(function(){"auto"===a&&(this.zoomRegion.$el.stop().fadeOut("slow"),this.socialWallView.resume())},this)),this.socialWallView.on("displayEnd",t.bind(function(){var i=this;if("auto"===a){if(e)return;null!==n&&(clearTimeout(n),n=null),n=t.delay(function(){n=null,0===i.messages.length&&(i.homeRegion.$el.stop().fadeIn("slow"),e=!0,t.delay(function(){e=!1},1e3*s))},1e3*s)}},this))}),w.on("start",function(){var e=o.connect();e.on("connect",function(){e.emit("client-handshake",{})}),e.on("reload",function(){window.location.reload()}),e.on("globals",function(e){w.trigger("globals",e)}),e.on("message",function(e){w.trigger("message",e)}),e.on("remove-message",function(e){w.trigger("remove-message",e)}),e.on("followers",function(e){w.trigger("followers",e)}),e.on("messages",function(e){w.messages.set([]),t.each(e.reverse(),function(e){e.special="",w.trigger("message",e)})}),e.on("last-zooms",function(e){t.isArray(e)&&e.length&&w.trigger("last-zoom",e[0])})}),i("body").append('<div id="font-preload" style="opacity: 0">  <span class="fa fa-twitter"></span>  <span class="fa fa-instagram"></span>  <span style="font-family: \'Futura Heavy\'">Futura Heavy</span>  <span style="font-family: \'Futura\'">Futura</span></div>'),i(window).on("load",function(){i("#font-preload").remove(),w.start()}),window.app=w},{"./common":1,"./flip":2,"./vendor/jquery.transit":4,backbone:"backbone","backbone.marionette":"backbone.marionette",jquery:"jquery","socket.io-client":"socket.io-client",underscore:"underscore"}],4:[function(e,t,i){!function(s,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof i?t.exports=n(e("jquery")):n(s.jQuery)}(this,function(e){function t(e){if(e in d.style)return e;for(var t=["Moz","Webkit","O","ms"],i=e.charAt(0).toUpperCase()+e.substr(1),s=0;s<t.length;++s){var n=t[s]+i;if(n in d.style)return n}}function i(){return d.style[h.transform]="",d.style[h.transform]="rotateY(90deg)",""!==d.style[h.transform]}function s(e){return"string"==typeof e&&this.parse(e),this}function n(e,t,i){t===!0?e.queue(i):t?e.queue(t,i):e.each(function(){i.call(this)})}function o(t){var i=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=l(t),h[t]&&(t=l(h[t])),-1===e.inArray(t,i)&&i.push(t)}),i}function a(t,i,s,n){var a=o(t);e.cssEase[s]&&(s=e.cssEase[s]);var r=""+u(i)+" "+s;parseInt(n,10)>0&&(r+=" "+u(n));var l=[];return e.each(a,function(e,t){l.push(t+" "+r)}),l.join(", ")}function r(t,i){i||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=h.transform,e.cssHooks[t]={get:function(i){var s=e(i).css("transit:transform");return s.get(t)},set:function(i,s){var n=e(i).css("transit:transform");n.setFromString(t,s),e(i).css({"transit:transform":n})}}}function l(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function u(t){var i=t;return"string"!=typeof i||i.match(/^[\-0-9\.]+/)||(i=e.fx.speeds[i]||e.fx.speeds._default),c(i,"ms")}e.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var d=document.createElement("div"),h={},g=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=t("transition"),h.transitionDelay=t("transitionDelay"),h.transform=t("transform"),h.transformOrigin=t("transformOrigin"),h.filter=t("Filter"),h.transform3d=i();var p={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},f=h.transitionEnd=p[h.transition]||null;for(var m in h)h.hasOwnProperty(m)&&"undefined"==typeof e.support[m]&&(e.support[m]=h[m]);return d=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new s},set:function(t,i){var n=i;n instanceof s||(n=new s(n)),t.style[h.transform]="WebkitTransform"!==h.transform||g?n.toString():n.toString(!0),e(t).data("transform",n)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.cssHooks.filter={get:function(e){return e.style[h.filter]},set:function(e,t){e.style[h.filter]=t}},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[h.transformOrigin]},set:function(e,t){e.style[h.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[h.transition]},set:function(e,t){e.style[h.transition]=t}}),r("scale"),r("scaleX"),r("scaleY"),r("translate"),r("rotate"),r("rotateX"),r("rotateY"),r("rotate3d"),r("perspective"),r("skewX"),r("skewY"),r("x",!0),r("y",!0),s.prototype={setFromString:function(e,t){var i="string"==typeof t?t.split(","):t.constructor===Array?t:[t];i.unshift(e),s.prototype.set.apply(this,i)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=c(e,"px")),null!==t&&void 0!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,i,s){t.setFromString(i,s)})},toString:function(e){var t=[];for(var i in this)if(this.hasOwnProperty(i)){if(!h.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&t.push(e&&"scale"===i?i+"3d("+this[i]+",1)":e&&"translate"===i?i+"3d("+this[i]+",0)":i+"("+this[i]+")")}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,i,s,o){var r=this,l=0,c=!0,d=e.extend(!0,{},t);"function"==typeof i&&(o=i,i=void 0),"object"==typeof i&&(s=i.easing,l=i.delay||0,c="undefined"==typeof i.queue?!0:i.queue,o=i.complete,i=i.duration),"function"==typeof s&&(o=s,s=void 0),"undefined"!=typeof d.easing&&(s=d.easing,delete d.easing),"undefined"!=typeof d.duration&&(i=d.duration,delete d.duration),"undefined"!=typeof d.complete&&(o=d.complete,delete d.complete),"undefined"!=typeof d.queue&&(c=d.queue,delete d.queue),"undefined"!=typeof d.delay&&(l=d.delay,delete d.delay),"undefined"==typeof i&&(i=e.fx.speeds._default),"undefined"==typeof s&&(s=e.cssEase._default),i=u(i);var g=a(d,i,s,l),p=e.transit.enabled&&h.transition,m=p?parseInt(i,10)+parseInt(l,10):0;if(0===m){var w=function(e){r.css(d),o&&o.apply(r),e&&e()};return n(r,c,w),r}var v={},b=function(t){var i=!1,s=function(){i&&r.unbind(f,s),m>0&&r.each(function(){this.style[h.transition]=v[this]||null}),"function"==typeof o&&o.apply(r),"function"==typeof t&&t()};m>0&&f&&e.transit.useTransitionEnd?(i=!0,r.bind(f,s)):window.setTimeout(s,m),r.each(function(){m>0&&(this.style[h.transition]=g),e(this).css(d)})},y=function(e){this.offsetWidth,b(e)};return n(r,c,y),this},e.transit.getTransitionValue=a,e})},{jquery:"jquery"}]},{},[3]);